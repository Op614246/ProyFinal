<div class="p-2">
  <ion-toolbar>
    <div class="pl-4 font-bold">Filtrar por</div>
    <ion-buttons slot="end">
      <ion-button (click)="limpiarFiltros()">
        <ion-icon name="brush-outline" class="text-blue-500 text-xs mr-2"></ion-icon>
        <span class="underline text-xs text-blue-500">Limpiar filtro</span>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</div>

<div class="px-4 py-2 overflow-y-auto">
  <!-- Filtros para apartado administrativo (NO tarea-info) -->
  <div class="flex flex-col gap-3" *ngIf="!esTareaInfo">
    <div>
      <span class="text-xs text-gray-600">Sucursal</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroDepartamento">
        <ion-select-option value="">Todas</ion-select-option>
        <ion-select-option value="Sede Centro">Sede Centro</ion-select-option>
        <ion-select-option value="Sucursal 1">Sucursal 1</ion-select-option>
        <ion-select-option value="Sucursal 2">Sucursal 2</ion-select-option>
      </ion-select>
    </div>

    <div>
      <span class="text-xs text-gray-600">Por Categor√≠a</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroRol">
        <ion-select-option value="">Todas</ion-select-option>
        <ion-select-option value="almacenes">Almacenes</ion-select-option>
        <ion-select-option value="limpieza">Limpieza</ion-select-option>
        <ion-select-option value="operaciones">Operaciones</ion-select-option>
      </ion-select>
    </div>

    <div>
      <span class="text-xs text-gray-600">Por cargo</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroEstado">
        <ion-select-option value="">Todos</ion-select-option>
        <ion-select-option value="mesero">Mesero</ion-select-option>
        <ion-select-option value="supervisor">Supervisor</ion-select-option>
        <ion-select-option value="limpieza">Limpieza</ion-select-option>
      </ion-select>
    </div>

    <div class="pb-20">
      <span class="text-xs text-gray-600">Progreso</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroProgreso">
        <ion-select-option value="">Todos</ion-select-option>
        <ion-select-option value="pendiente">Pendiente</ion-select-option>
        <ion-select-option value="en progreso">En progreso</ion-select-option>
        <ion-select-option value="completada">Completada</ion-select-option>
      </ion-select>
    </div>
  </div>

  <!-- Filtros para tarea-info (solo progreso y prioridad) -->
  <div class="flex flex-col gap-3" *ngIf="esTareaInfo">
    <div>
      <span class="text-xs text-gray-600">Prioridad</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroPrioridad">
        <ion-select-option value="">Todos</ion-select-option>
        <ion-select-option value="alta">Alta</ion-select-option>
        <ion-select-option value="media">Media</ion-select-option>
        <ion-select-option value="baja">Baja</ion-select-option>
      </ion-select>
    </div>

    <div>
      <span class="text-xs text-gray-600">Estado</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroEstadoActivo">
        <ion-select-option value="">Todos</ion-select-option>
        <ion-select-option value="activo">Activo</ion-select-option>
        <ion-select-option value="inactivo">Inactivo</ion-select-option>
      </ion-select>
    </div>

    <div class="pb-20">
      <span class="text-xs text-gray-600">Progreso</span>
      <ion-select fill="outline" interface="popover" class="custom-select" [(ngModel)]="filtroProgreso">
        <ion-select-option value="">Todos</ion-select-option>
        <ion-select-option value="en-progreso">En progreso</ion-select-option>
        <ion-select-option value="pendiente">Pendiente</ion-select-option>
        <ion-select-option value="completada">Completada</ion-select-option>
      </ion-select>
    </div>
  </div>
</div>

<ion-footer>
  <ion-toolbar>
    <div class="footer-buttons p-4 flex gap-3">
      <ion-button fill="outline" color="medium" expand="block" class="flex-1" (click)="limpiarFiltros()">
        Limpiar
      </ion-button>
      <ion-button fill="solid" color="primary" expand="block" class="flex-1" (click)="aplicarFiltros()">
        Aplicar Filtros
      </ion-button>
    </div>
  </ion-toolbar>
</ion-footer>
